# Log di Sviluppo - Versione 0.1.0 - La Rielaborazione Totale

**Data:** 24 Luglio 2024

Questa versione rappresenta l'aggiornamento più significativo nella storia di "PixelDebh: Retro-Rescue!", trasformando il gioco da una serie di schermate statiche a un'avventura dinamica e visivamente ricca. Include un restyling grafico, l'espansione di tutti i livelli, la correzione di bug critici e l'introduzione di un'epica battaglia contro un boss.

## Rielaborazione Grafica e Strutturale

-   **Mondo di Gioco Esteso e Telecamera Dinamica:** La modifica più impattante è stata l'abbandono dei livelli a schermata singola. Tutti i livelli, dall'1 al 10, sono stati notevolmente ampliati in larghezza. Per supportare questo cambiamento, è stato implementato un sistema di telecamera dinamica che segue fluidamente il giocatore, creando un senso di esplorazione e rendendo il mondo di gioco più vasto e immersivo.

-   **Sfondo Parallasse Multi-strato:** Per aumentare la profondità visiva, è stato introdotto uno sfondo parallasse a più livelli. Diversi strati di stelle si muovono a velocità differenti rispetto al piano di gioco, creando un'autentica illusione di profondità, tipica dei classici platform a 16-bit.

-   **Effetti Visivi "Juiciness":** Sono stati aggiunti effetti visivi per migliorare il feedback e l'impatto estetico. I power-up "Speed Boost" e "Super Throw" ora avvolgono il giocatore in un'aura luminosa e pulsante, rendendo il loro stato immediatamente riconoscibile.

## Correzione di Bug Critici

-   **Risoluzione del Bug di Completamento Livello:** Durante lo sviluppo, sono emersi due bug critici che impedivano di completare i livelli dopo aver raccolto tutti gli oggetti.
    1.  **Stale Closure:** Il primo bug era dovuto a una "stale closure" in React, dove il controllo di fine livello utilizzava una versione obsoleta dello stato del gioco.
    2.  **Stale State (Race Condition):** Il secondo bug, più profondo, era causato da una "race condition" nel ciclo di gioco principale. Le collisioni venivano controllate usando lo stato del giocatore del frame *precedente*. Il `gameLoop` è stato profondamente rifattorizzato per calcolare uno stato coerente e aggiornato del giocatore all'inizio di ogni frame, che viene poi utilizzato per tutti i calcoli di collisione, risolvendo definitivamente il problema.

## Introduzione e Rielaborazione della Battaglia Boss

-   **Design Iterativo del Boss:** È stata introdotta una battaglia contro un boss al Livello 4 per spezzare il ritmo del gioco.
    1.  **Prima Versione:** Inizialmente, il boss era una rana in pixel-art che lanciava CD-ROM, e il giocatore doveva sconfiggerla catturando e lanciando altri nemici che apparivano nell'arena.
    2.  **Versione Finale (Cyclops Frog):** Sulla base del feedback, la battaglia è stata completamente riprogettata. È stato integrato un nuovo e più dettagliato sprite SVG, il **"Cyclops Frog"**. L'arena è stata svuotata da ogni distrazione. La meccanica è stata trasformata in uno scontro diretto: il boss attacca lasciando cadere proiettili, e al giocatore è stata data una **nuova abilità di sparo** (tasto SHIFT Sinistro), disponibile solo in questo livello.

## Altre Modifiche

-   Tutti i livelli (dal 2 al 10) sono stati riprogettati per essere coerenti con l'espansione del primo livello.
-   L'HUD è stato aggiornato per mostrare la barra della vita del boss.
-   Sono stati aggiunti nuovi effetti sonori per il boss e per la nuova abilità di sparo del giocatore.