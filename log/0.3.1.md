
# Log di Sviluppo - Versione 0.3.1 - Fix Livelli e Debug

**Data:** 26 Luglio 2024

Questa versione risolve problemi critici di level design, bilanciamento e un grave bug tecnico di rendering emersi dopo il refactoring della versione 0.3.0.

## Bug Fix Critico: Nemici Congelati

-   **Problema:** Dopo l'ottimizzazione delle performance introdotta nella v0.3.0 (uso di `React.memo`), i nemici smettevano di muoversi a schermo pur continuando a funzionare nella logica interna.
-   **Causa:** Il loop di gioco modificava (mutava) le proprietà degli oggetti nemico esistenti invece di crearne di nuovi. Poiché il riferimento all'oggetto non cambiava, React non "vedeva" il cambiamento e non aggiornava la grafica per risparmiare risorse.
-   **Soluzione:** La logica di aggiornamento dei nemici è stata corretta per creare copie immutabili (`shallow copy`) ad ogni frame. Questo forza React a ridisegnare correttamente i nemici mantenendo i vantaggi prestazionali per gli oggetti statici.

## Rielaborazione Livello 8: The Ascent

-   **Problema:** Il livello 8, precedentemente composto da un lunghissimo pavimento piatto, risultava vuoto e noioso, contraddicendo il nome "The Ascent".
-   **Soluzione:** Il livello è stato completamente ricostruito. Ora presenta una vera struttura verticale con piattaforme "a scala", ponti sospesi e isole fluttuanti.
-   **Popolamento:** Aggiunti nemici (Phaser e Flyer) e oggetti collezionabili nella seconda metà del livello, che prima era deserta.

## Bilanciamento Boss 2: LeGallineNellOcchi

-   **Nuova Meccanica HP Giocatore:** Dato l'alto numero di proiettili ("Bullet Hell") di questo boss, il sistema classico a 3 vite risultava troppo punitivo.
-   **Implementazione:** All'ingresso di questo specifico livello boss, le vite del giocatore vengono impostate forzatamente alla metà esatta degli HP massimi del boss (arrotondati per eccesso). Con il boss a 45 HP, il giocatore inizia ora lo scontro con **23 Vite**. Questo trasforma la battaglia in una sfida di resistenza.

## Strumenti di Debug

-   **Level Skip (Tasto 'L'):** Aggiunto un comando segreto per saltare istantaneamente il livello corrente. Premendo 'L' si passa al livello successivo (o alla vittoria se è l'ultimo). Questo strumento è fondamentale per testare rapidamente i livelli avanzati senza dover rigiocare l'intero gioco.

## Altre Modifiche

-   Il `README.md` è stato aggiornato per documentare i nuovi comandi di debug.
-   Corretto un bug nella logica di completamento livello che impediva di uscire dai livelli se non c'erano oggetti collezionabili (es. livelli puramente platform).
